{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "banner-carousal",
  "type": "registry:block",
  "title": "Banner Carousal",
  "description": "An interactive parallax showcase where images drift in dual lanes, elegantly responding to cursor movement and adding a captivating sense of depth. A recreation from the landonorris website.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "components/carousals/banner-carousal.tsx",
      "content": "'use client';\n\nimport React, { HTMLAttributes, useContext, useEffect, useState } from 'react';\nimport { motion, AnimatePresence } from 'motion/react';\nimport { cn } from '@/lib/utils';\n\ninterface ImageData {\n  title?: string;\n  src: string;\n}\n\ninterface CarousalProps extends HTMLAttributes<HTMLDivElement> {\n  images?: ImageData[];\n}\n\ninterface BannerSlidesProps extends HTMLAttributes<HTMLDivElement> {\n  showBackground?: boolean; // default true\n  showOverlay?: boolean; // default true\n}\n\ninterface ActiveStateContextProps {\n  data: ImageData[];\n  activeIndex: number;\n  setActiveIndex: React.Dispatch<React.SetStateAction<number>>;\n  nextIndex: number;\n  setNextIndex: React.Dispatch<React.SetStateAction<number>>;\n}\n\nconst ActiveStateContext = React.createContext<ActiveStateContextProps | undefined>(undefined);\n\nexport const useActiveContext = () => {\n  const context = useContext(ActiveStateContext);\n  if (!context) throw new Error('useActiveContext must be used inside BannerCarousal');\n  return context;\n};\n\nexport function BannerCarousal({ images, children, className }: CarousalProps) {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [nextIndex, setNextIndex] = useState(1);\n\n  const defaultImages: ImageData[] = [\n    {\n      title: 'Explore the Future',\n      src: 'https://i.pinimg.com/1200x/4a/77/c6/4a77c637002bdad56f7ce71f4a3ad6ae.jpg',\n    },\n    {\n      title: 'Innovation in Motion',\n      src: 'https://i.pinimg.com/736x/51/36/94/513694082de441efa640d307d7661369.jpg',\n    },\n    {\n      title: 'Design Meets Technology',\n      src: 'https://i.pinimg.com/736x/20/53/1d/20531d35e197174cf984aa4f76b52a70.jpg',\n    },\n  ];\n\n  const data = images && images.length > 0 ? images : defaultImages;\n\n  // Active background change\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setActiveIndex((prev) => (prev === data.length - 1 ? 0 : prev + 1));\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [data.length]);\n\n  // Next thumbnail preview\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setNextIndex((prev) => (prev === data.length - 1 ? 0 : prev + 1));\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [data.length]);\n\n  return (\n    <ActiveStateContext.Provider\n      value={{ data, activeIndex, setActiveIndex, nextIndex, setNextIndex }}\n    >\n      <div\n        className={cn(\n          'relative flex items-center justify-center h-full w-full overflow-hidden rounded-2xl shadow-lg',\n          className,\n        )}\n      >\n        {children}\n      </div>\n    </ActiveStateContext.Provider>\n  );\n}\n\n/* Animated Carousel with overlay transforming into background */\nexport function BannerSlides({\n  className,\n  showBackground = true,\n  showOverlay = true,\n}: BannerSlidesProps) {\n  const { data, activeIndex, nextIndex } = useActiveContext();\n\n  return (\n    <div className={cn('relative w-full h-full', className)}>\n      {/* Background image (current activeIndex) */}\n      {showBackground && (\n        <AnimatePresence mode=\"wait\">\n          <motion.img\n            key={data[activeIndex].src}\n            src={data[activeIndex].src}\n            alt={data[activeIndex].title}\n            className=\"absolute inset-0 w-full h-full object-cover rounded-2xl\"\n          />\n        </AnimatePresence>\n      )}\n\n      {/* Overlay preview (grows into next background) */}\n      {showOverlay && (\n        <AnimatePresence mode=\"popLayout\">\n          <motion.div\n            key={data[nextIndex].src}\n            className=\"absolute right-0 bottom-0 aspect-square w-full h-full rounded-xl overflow-hidden shadow-lg cursor-pointer origin-bottom-right\"\n            initial={{ scale: 0.3, opacity: 0.8 }}\n            animate={{\n              scale: [0.3, 0.3, 1],\n              opacity: [0.8, 1, 1],\n              height: '100%',\n              width: '100%',\n              transition: {\n                duration: 4.5,\n                times: [0, 0.4, 1],\n                ease: [0.45, 0, 0.55, 1],\n              },\n            }}\n            exit={{\n              opacity: 0,\n              scale: 1,\n              transition: { duration: 0.5 },\n            }}\n          >\n            <motion.img\n              src={data[nextIndex].src}\n              alt={data[nextIndex].title}\n              initial={{ scale: 0.5, x: 100, opacity: 1 }}\n              animate={{ scale: 1, x: 0, opacity: 1 }}\n              transition={{ duration: 0.4, ease: 'easeOut' }}\n              className=\"w-full h-full origin-right object-cover rounded-xl z-30\"\n            />\n          </motion.div>\n        </AnimatePresence>\n      )}\n    </div>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/demo/banner-carousal-demo.tsx",
      "content": "import { BannerSlides, BannerCarousal } from '@/components/carousals/banner-carousal';\n\nconst data = [\n  {\n    title: 'Explore the Future',\n    src: 'https://i.pinimg.com/736x/6d/2b/a8/6d2ba8add2b39bba3a630922bcbbfce5.jpg',\n  },\n  {\n    title: 'Innovation in Motion',\n    src: 'https://i.pinimg.com/736x/b2/fb/20/b2fb20cd5286f15c7b4aeade50a948d1.jpg',\n  },\n  {\n    title: 'Design Meets Technology',\n    src: 'https://i.pinimg.com/1200x/15/29/de/1529dec3f7e010bd71a3b02f4fe9e156.jpg',\n  },\n  {\n    src: 'https://i.pinimg.com/1200x/22/46/c2/2246c21e61d756b8d6821e72799bf0e1.jpg',\n  },\n];\n\nexport function BannerCarousalDemo() {\n  return (\n    <div>\n      <BannerCarousal images={data} className=\"h-[600px]\">\n        <BannerSlides />\n      </BannerCarousal>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}