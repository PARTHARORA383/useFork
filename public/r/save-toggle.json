{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "save-toggle",
  "type": "registry:block",
  "title": "Save Toggle",
  "description": "An interactive parallax showcase where images drift in dual lanes, elegantly responding to cursor movement and adding a captivating sense of depth. A recreation from the landonorris website.",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "components/save-toggle.tsx",
      "content": "'use client';\n\nimport { motion, AnimatePresence } from 'motion/react';\nimport { useState } from 'react';\nimport { cn } from '@/lib/cn';\nimport { LoaderCircle } from '@/components/loader-circle';\nimport { CheckCircle2 } from 'lucide-react';\n\ntype SaveButtonState = 'idle' | 'loading' | 'completed';\n\ninterface SaveToggleProps {\n  onClick?: () => Promise<void> | void;\n  title?: string;\n  completedTitle?: string;\n  className?: string;\n}\n\nexport function SaveToggle({\n  onClick,\n  title = 'Save Changes',\n  completedTitle = 'Saved',\n  className,\n}: SaveToggleProps) {\n  const [state, setState] = useState<SaveButtonState>('idle');\n\n  const handleClick = async () => {\n    if (state !== 'idle') return;\n    setState('loading');\n\n    try {\n      await onClick?.();\n      setTimeout(() => {\n        setState('completed');\n      }, 4000);\n      setTimeout(() => {\n        setState('idle');\n      }, 7000);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const text = title.split('').map((char) => (char === ' ' ? '\\u00A0' : char));\n\n  const completed = completedTitle.split('').map((char) => (char === ' ' ? '\\u00A0' : char));\n\n  return (\n    <motion.button\n      onClick={handleClick}\n      whileTap={{ scale: 0.96 }}\n      className={cn('flex items-center justify-center', className)}\n    >\n      <AnimatePresence mode=\"wait\">\n        {state === 'idle' && (\n          <motion.div\n            key={'idle'}\n            initial={{ width: 0, opacity: 0, filter: 'blur(2px)', originX: 0.5 }}\n            animate={{ width: '100%', opacity: 1, filter: 'blur(0px)', originX: 0.5 }}\n            exit={{ width: 0, opacity: 0, filter: 'blur(2px)', originX: 0.5 }}\n            transition={{ duration: 0.4, ease: 'easeInOut' }}\n            className={cn(\n              'flex items-center border  justify-center p-2 px-4 overflow-hidden font-medium rounded-full  shadow-[inset_2px_2px_5px_rgba(0,0,0,0.1),inset_-2px_-2px_5px_rgba(255,255,255,0.7)] dark:shadow-[inset_4px_4px_6px_rgba(0,0,0,0.7),inset_-2px_-2px_3px_rgba(255,255,255,0.1)] ',\n              className,\n            )}\n          >\n            {text.map((char, index) => (\n              <motion.span key={index} className=\"inline-block\">\n                {char}\n              </motion.span>\n            ))}\n          </motion.div>\n        )}\n\n        {state === 'loading' && (\n          <motion.div\n            key=\"loading\"\n            layout\n            initial={{ opacity: 0, scale: 0.5 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.25 }}\n            className=\"flex items-center justify-center  rounded-full shadow-[inset_2px_2px_5px_rgba(0,0,0,0.1),inset_-2px_-2px_5px_rgba(255,255,255,0.7)] dark:shadow-[inset_4px_4px_6px_rgba(0,0,0,0.7),inset_-2px_-2px_3px_rgba(255,255,255,0.1)]  \"\n          >\n            <LoaderCircle radius={100} />\n          </motion.div>\n        )}\n\n        {state === 'completed' && (\n          <motion.div\n            key=\"completed\"\n            initial={{ width: 0, opacity: 0, filter: 'blur(2px)', originX: 0.5 }}\n            animate={{ width: '100%', opacity: 1, filter: 'blur(0px)', originX: 0.5 }}\n            exit={{ opacity: 0, y: 10, filter: 'blur(2px)' }}\n            transition={{ duration: 0.3, ease: 'easeInOut' }}\n            className={cn(\n              'flex items-center justify-center py-2 overflow-hidden rounded-full px-4 border border-muted shadow-[inset_2px_2px_5px_rgba(0,0,0,0.1),inset_-2px_-2px_5px_rgba(255,255,255,0.7)] dark:shadow-[inset_4px_4px_6px_rgba(0,0,0,0.7),inset_-2px_-2px_3px_rgba(255,255,255,0.1)] ',\n              className,\n            )}\n          >\n            <CheckCircle2 className=\"w-5 h-5 mr-1\" />\n            {completed.map((char, index) => (\n              <motion.span key={index} className=\"inline \">\n                {char}\n              </motion.span>\n            ))}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.button>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/demo/save-toggle-demo.tsx",
      "content": "'use client';\n\nimport { SaveToggle } from '@/components/save-toggle';\n\nexport function SaveToggleDemo() {\n  return <SaveToggle />;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/loader-circle.tsx",
      "content": "'use client';\n\nimport { motion } from 'framer-motion';\nimport React from 'react';\n\ninterface LoaderProps {\n  radius?: number;\n}\n\nexport function LoaderCircle({ radius }: LoaderProps) {\n  const DURATION = 8;\n  const r = radius ?? 120;\n\n  return (\n    <div className=\"flex items-center justify-center\">\n      <motion.svg\n        viewBox=\"0 0 384 384\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className=\"w-12 h-12 overflow-visible rotate-[-90deg]\"\n        animate={{ rotate: 360 }}\n        transition={{\n          repeat: Infinity,\n          ease: 'linear',\n          duration: 2,\n        }}\n      >\n        {/* ðŸŒˆ SKY GRADIENT */}\n        <defs>\n          <linearGradient id=\"skyGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#0ea5e9\" /> {/* sky-500 */}\n            <stop offset=\"100%\" stopColor=\"#7dd3fc\" /> {/* sky-300 */}\n          </linearGradient>\n\n          <linearGradient id=\"skyGradientSoft\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#bae6fd\" /> {/* sky-200 */}\n            <stop offset=\"100%\" stopColor=\"#e0f2fe\" /> {/* sky-100 */}\n          </linearGradient>\n        </defs>\n\n        {/* ðŸ”µ ACTIVE RING */}\n        <motion.circle\n          pathLength={360}\n          fill=\"transparent\"\n          strokeWidth={24}\n          cx={192}\n          cy={192}\n          r={r}\n          stroke=\"url(#skyGradient)\"\n          strokeLinecap=\"round\"\n          strokeDashoffset={360}\n          animate={{\n            strokeDasharray: [\n              '0 0 0 360 0 360',\n              '0 0 270 90 270 90',\n              '0 270 0 360 0 360',\n              '0 270 270 90 270 90',\n              '0 540 0 360 0 360',\n              '0 180 0 360 0 360',\n              '0 180 270 90 270 90',\n              '0 450 0 360 0 360',\n              '0 450 270 90 270 90',\n              '0 90 270 90 270 90',\n              '0 360 1 360 0 360',\n            ],\n            opacity: [0.9, 1, 0.85],\n          }}\n          transition={{\n            duration: DURATION,\n            repeat: Infinity,\n            ease: 'easeInOut',\n          }}\n        />\n\n        {/* ðŸ”µ SOFT BACK RING */}\n        <motion.circle\n          pathLength={360}\n          fill=\"transparent\"\n          strokeWidth={32}\n          cx={192}\n          cy={192}\n          r={r}\n          stroke=\"url(#skyGradientSoft)\"\n          strokeLinecap=\"round\"\n          strokeDashoffset={360}\n          animate={{\n            strokeDasharray: [\n              '0 20 320 40 320 40',\n              '0 290 50 310 50 310',\n              '0 290 320 40 320 40',\n              '0 560 50 310 50 310',\n              '0 200 50 310 50 310',\n              '0 200 320 40 320 40',\n              '0 470 50 310 50 310',\n              '0 110 50 310 50 310',\n              '0 110 320 40 320 40',\n              '0 380 50 310 50 310',\n              '0 380 320 40 320 40',\n            ],\n            opacity: [0.25, 0.45, 0.35],\n          }}\n          transition={{\n            duration: DURATION,\n            repeat: Infinity,\n            ease: 'easeInOut',\n          }}\n        />\n      </motion.svg>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}